<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="HEADER_MAGIC_NUMBER"><span class="type-signature">(constant) </span>HEADER_MAGIC_NUMBER<span class="type-signature"></span></h4>




<div class="description">
    The 4 bytes at the start of the file, used to
 indicate that the file is a FIC (Fast Image Compression)
 file
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="header.js.html">header.js</a>, <a href="header.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="compress"><span class="type-signature"></span>compress<span class="signature">(inputImageData)</span><span class="type-signature"> &rarr; {Promise(Uint8Array)}</span></h4>
    

    



<div class="description">
    Compresses the given input image data using FIC (Fast Image Compression)

  <p>Side Effects: None</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inputImageData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">the input image buffer
                                        (can be bytes for JPEG, GIF, PNG, BMP, TIFF, or GIF)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="compress.js.html">compress.js</a>, <a href="compress.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    a promise for the compressed data buffer
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise(Uint8Array)</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="decompress"><span class="type-signature"></span>decompress<span class="signature">(inputData, outputFormat)</span><span class="type-signature"> &rarr; {Promise(Uint8Array)}</span></h4>
    

    



<div class="description">
    Compresses the given input image data using FIC (Fast Image Compression)

  <p>Side Effects: None</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inputData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Uint8Array</span>


            
            </td>

            

            

            <td class="description last">the image data compressed in FIC format</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputFormat</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">the output image format
                                  (one of 'jpeg', 'png', 'bmp', 'tiff', 'gif')</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="compress.js.html">compress.js</a>, <a href="compress.js.html#line55">line 55</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    a promise for the decompressed data buffer in PNG format
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise(Uint8Array)</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findEdges"><span class="type-signature"></span>findEdges<span class="signature">(image)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;Boolean>>}</span></h4>
    

    



<div class="description">
    Finds the edges (pixels with large deltas)
  for the given image and returns the result
  as a 2D-array (indexed by edgeMap[y][x]) where
  edgeMap[y][x] is true iff the pixel at (x, y)
  in the given image is on an edge, and false
  otherwise

  <p>Side Effects: None</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>image</code></td>
            

            <td class="type">
            
                
<span class="param-type">Jimp</span>


            
            </td>

            

            

            <td class="description last">the input image</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="edgemap.js.html">edgemap.js</a>, <a href="edgemap.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the 2D-array edge map
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;Boolean>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isLargeDelta"><span class="type-signature"></span>isLargeDelta<span class="signature">(delta)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Returns true iff the given delta will not
  be able to be stored within 7-bits, meaning
  it will take at least 8-bits to store, and
  at that point it is as good or better to just
  use the original byte value instead of the
  delta

  <p>Side Effects: None</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>delta</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the delta between two values (must be an integer)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="edgemap.js.html">edgemap.js</a>, <a href="edgemap.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    true iff the given delta is large,
                      false otherwise
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readBody"><span class="type-signature"></span>readBody<span class="signature">(input, edgemap, image)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Reads the image pixel data (body of the file) from the
  given input bitstream using the given edgeMap, and stores
  the pixels read into the given image

  <p>Side Effects:</p>
    <p>- increases the bit position of 'input', the input bitstream</p>
    <p>- overwrites pixel data in 'image' with data that was read and
        decompressed from the input bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitInputStream</span>


            
            </td>

            

            

            <td class="description last">the input bitstream (source)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>edgemap</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;Boolean>></span>


            
            </td>

            

            

            <td class="description last">a 2D-array representing which pixels are
                                  on edges, if edgeMap[y][x] is true, it
                                  means the pixel at (y, x) is on an edge</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>image</code></td>
            

            <td class="type">
            
                
<span class="param-type">Jimp</span>


            
            </td>

            

            

            <td class="description last">the destination for writing the pixel data</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="body.js.html">body.js</a>, <a href="body.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="readDelta"><span class="type-signature"></span>readDelta<span class="signature">(input)</span><span class="type-signature"> &rarr; {Integer}</span></h4>
    

    



<div class="description">
    Reads in a delta (difference between two values) to
  the given output bitstream in a form that uses shorter
  prefix-free codes for smaller delta values and larger
  codes for larger deltas

  <p>Side Effects:</p>
    <p>- increases the bit position of 'input', the input bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitInputStream</span>


            
            </td>

            

            

            <td class="description last">the input bitstream (source)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="delta.js.html">delta.js</a>, <a href="delta.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    the delta represented by the bits read
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Integer</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readEdgeMap"><span class="type-signature"></span>readEdgeMap<span class="signature">(input, width, height)</span><span class="type-signature"> &rarr; {Array.&lt;Array.&lt;Boolean>>}</span></h4>
    

    



<div class="description">
    Reads in an edge map (indexed by edgeMap[y][x]), with
  the specified width and height, from the given input bitstream

  <p>Side Effects:</p>
    <p>- increases the bit position of 'input', the input bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitInputStream</span>


            
            </td>

            

            

            <td class="description last">the input bitstream (source)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the width of the image (also, width of edge map)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the height of the image (also, height of edge map)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="edgemap.js.html">edgemap.js</a>, <a href="edgemap.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    a 2D-array representing which pixels are
                            on edges, if edgeMap[y][x] is true, it
                            means the pixel at (y, x) is on an edge
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Array.&lt;Boolean>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readHeader"><span class="type-signature"></span>readHeader<span class="signature">(input)</span><span class="type-signature"> &rarr; {Boolean|Object}</span></h4>
    

    



<div class="description">
    Reads and validates the header data from a given input bistream.
  Returns false iff the header is invalid, otherwise returns and
  object containing the image width and height

  <p>Side Effects:</p>
    <p>- increases the bit position of 'input', the input bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>input</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitInputStream</span>


            
            </td>

            

            

            <td class="description last">the input bitstream (source)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="header.js.html">header.js</a>, <a href="header.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    {width: Integer, height: Integer} if
                              the magic number is valid, otherwise
                              false
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>
|

<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="writeBody"><span class="type-signature"></span>writeBody<span class="signature">(out, edgeMap, image)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Writes the image pixel data (body of the file) to
  the given output bitstream using FIC delta compression.
  That is, it writes out data for each pixel in the input
  image. If the pixel is on an edge as defined by 'edgeMap',
  it will write the raw RGB (8-bits per channel) form. If
  the pixel is not on an edge, it will use the deltas from
  either the pixel to the left of the pixel above to store
  the pixel data.

  <p>Side Effects:</p>
    <p>- increases the bit position of 'out', the output bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>out</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitOutputStream</span>


            
            </td>

            

            

            <td class="description last">the output bitstream (destination)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>edgeMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;Boolean>></span>


            
            </td>

            

            

            <td class="description last">a 2D-array (indexed by edgeMap[y][x])
                                 where the value is true if the pixel
                                 at (x, y) is on an edge and false
                                 otherwise</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>image</code></td>
            

            <td class="type">
            
                
<span class="param-type">Jimp</span>


            
            </td>

            

            

            <td class="description last">the image to compress</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="body.js.html">body.js</a>, <a href="body.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="writeDelta"><span class="type-signature"></span>writeDelta<span class="signature">(out, oldValue, newValue)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Writes out a delta (difference between two values) to
  the given output bitstream in a form that uses shorter
  prefix-free codes for smaller delta values and larger
  codes for larger deltas

  <p>Note: delta = newValue - oldValue</p>

  <p>Side Effects:</p>
    <p>- increases the bit position of 'out', the output bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>out</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitOutputStream</span>


            
            </td>

            

            

            <td class="description last">the output bitstream (destination)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>oldValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the old value (initial value)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newValue</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the new value (final value)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="delta.js.html">delta.js</a>, <a href="delta.js.html#line16">line 16</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="writeEdgeMap"><span class="type-signature"></span>writeEdgeMap<span class="signature">(out, edgeMap, width, height)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Writes the given edge map to the given
  output bitstream

  <p>Side Effects:</p>
    <p>- increases the bit position of 'out', the output bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>out</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitOutputStream</span>


            
            </td>

            

            

            <td class="description last">the output bitstream</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>edgeMap</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Array.&lt;Boolean>></span>


            
            </td>

            

            

            <td class="description last">the edge map 2D-array</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the width of the image (also, width of edge map)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the height of the image (also, height of edge map)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="edgemap.js.html">edgemap.js</a>, <a href="edgemap.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="writeHeader"><span class="type-signature"></span>writeHeader<span class="signature">(out, width, height)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Writes the file header with specified width and
  height to the given output bitstream

  <p>Side Effects:</p>
    <p>- increases the bit position of 'out', the output bitstream</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>out</code></td>
            

            <td class="type">
            
                
<span class="param-type">BitOutputStream</span>


            
            </td>

            

            

            <td class="description last">the output bitstream (destination)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the image width (unsigned 32-bit integer)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">Integer</span>


            
            </td>

            

            

            <td class="description last">the image height (unsigned 32-bit integer)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="header.js.html">header.js</a>, <a href="header.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#compress">compress</a></li><li><a href="global.html#decompress">decompress</a></li><li><a href="global.html#findEdges">findEdges</a></li><li><a href="global.html#HEADER_MAGIC_NUMBER">HEADER_MAGIC_NUMBER</a></li><li><a href="global.html#isLargeDelta">isLargeDelta</a></li><li><a href="global.html#readBody">readBody</a></li><li><a href="global.html#readDelta">readDelta</a></li><li><a href="global.html#readEdgeMap">readEdgeMap</a></li><li><a href="global.html#readHeader">readHeader</a></li><li><a href="global.html#writeBody">writeBody</a></li><li><a href="global.html#writeDelta">writeDelta</a></li><li><a href="global.html#writeEdgeMap">writeEdgeMap</a></li><li><a href="global.html#writeHeader">writeHeader</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Feb 13 2019 16:59:47 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>